<html>
  <head>
    <meta name="robots" content="noindex,nofollow">
    <title>BIG-IP logout page</title>
    <link rel="stylesheet" type="text/css" HREF="/public/include/css/apm.css">
    <script src="/public/include/js/common.js" language="javascript"></script>
    <script src="/public/include/js/u_plugin.js" language="javascript"></script>
	
    <script language="javascript">
      function InsertActivexControl(clsid, params)
      {
          var container = document.getElementById("logoutActivexContainer");
          
          if (navigator.appName == "Microsoft Internet Explorer") {
              var paramsCode = "";
              for (var item in params) {
                  paramsCode += "<param name='" + item + "' value='" + params[item] + "'>";
              }
              
              container.innerHTML = 
                  "<center><object classId=CLSID:" + clsid + " border=0 width=1 height=1>" +
                  paramsCode + "</object></center>";
          }
          else {
              var pluginHost = new UPluginHost("", container);
              var control = {"clsid": clsid, "width": 1, "height": 1};
              pluginHost.hostControl(control, params);
          }
      }
	  
      function OnLoad()
      {
        var isBrowserControl = false;
        try {
            isBrowserControl = ("undefined" != typeof(window.external))
                && ("unknown" != typeof(window.external))
                && ("undefined" != typeof(window.external.WebLogonNotifyUser))
                && ("unknown" != typeof(window.external.WebLogonNotifyUser));
        }
        catch(e) {}

        var display_session = get_cookie("LastMRH_Session");
        if(null != display_session) {
          document.getElementById("sessionDIV").innerHTML = '<BR>The session reference number: &nbsp;' + display_session + '<BR><BR>';
          document.getElementById("sessionDIV").style.visibility = "visible";
        }

        if(isBrowserControl) {
            window.external.WebLogonNotifyUser();
        }
        if(!isBrowserControl) {
            document.getElementById("newSessionDIV").style.visibility = "visible";
        }

        try
        {
            if (get_cookie("F5_PWS") == "1")
            {
                document.cookie = "F5_PWS=0; path=/; expires=Fri, 01-Jan-1970 00:00:01 GMT";
                var pwsClassId = "7E73BE8F-FD87-44EC-8E22-023D5FF960FF";
                InsertActivexControl(pwsClassId, {"command": "exit"} );
            }
        }catch (e) {};
      }
    </script>
  </head>

<body onload="OnLoad();">
<script>
try{

    if(window.external && window.external.WebLogonOnAuthFailure) {
        window.external.WebLogonOnAuthFailure();
    }
}catch(e){};
    try {
        window.external.OnHostClose();
    } catch(e) { }
</script>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" id="viewport" content="initial-scale=1.0" />
<meta name="robots" context="noindex,nofollow">
<script language="javascript">
//orientation toolbox
function setViewport(){
    document.getElementById("viewport").setAttribute('content', Math.abs(window.orientation) == 90 ? 'width=device-height, initial-scale=1' : 'width=device-width, initial-scale=1.0' );
}
setViewport();
window.onorientationchange = function() {
    setViewport();
}
</script>
<table id="page_header">
  <tr >
    <td id="header_leftcell"><img src='/public/images/my/flogo.png'/></td>
    <td id="header_rightcell"></td>
  </tr>
  <tr>
     <td>
     
     <div id="webtop_toolbar"><span id="hmcts_custom_url">Custom URL</span><div class="container left"><input id="waurl" class="blur"><img id="paul" class="go" src="/public/images/full_wt/go.png">
     </div><div class="container right border_hover last_child"><img id="helpimg" src="/public/images/full_wt/help.png"><span>Help</span></div>
     <div class="container right border_hover"><img id="searchimg" src="/public/images/full_wt/search_res.png"><span>Find Resource</span></div></div>
     </td></tr>
     <tr>
        <td style="width: 100%";>
        <script type="text/javascript">
     
        document.getElementById("paul").addEventListener("click", getURL);
        
        function getHostName(url) {
          var match = url.match(/(http[s]?:\/\/[^/:]+)/i);
          if (match != null && match.length > 0 && typeof match[1] === 'string' && match[1].length > 0) {
            return match[1];
          }
          else {
            return null;
          }
        }

        function getPath(url) {
          var match = url.match(/http[s]?:\/\/[^/:]+\/(.*)/i);
          if (match != null && match.length > 0 && typeof match[1] === 'string' && match[1].length > 0) {
            return match[1];
          }
          else {
            return "";
          }
        }
        function ascii_to_hexa(str)
        {
          var arr1 = [];
        for (var n = 0, l = str.length; n < l; n ++)
           {
            var hex = Number(str.charCodeAt(n)).toString(16);
        	arr1.push(hex);
         }
        return arr1.join('');
         }
     
          function getURL(){
            // build the new url using ascii_to_hexa function and open a new window
            var hexval = ascii_to_hexa(getHostName(document.getElementById("waurl").value))
            var url = 'https://' + window.location.hostname + '/f5-w-'+ hexval + '$$/' + getPath(document.getElementById("waurl").value);
            window.open(url);
     
          }
     
        </script>
     
     </td>
     <td id="maxTimeoutTd"><span id="maxTimeoutTag" title=""></span></td>
  </tr>
</table>
<noscript>
<div id="noscript_warning_red">JavaScript is not enabled. Please enable JavaScript in your browser or contact your system administrator for assistance.</div>
<div id="noscript_warning_newsession">To open a new session, please  <A href="/">click here.</A></div>
</noscript>
<table id="main_table" class="logout_page">
<tr>
        <td id="main_table_info_cell">
        <table id="interaction_table">
            <tr>
                <td id="interaction_table_header">Your session could not be established.</td>
            </tr>
            <tr>
                <td class="interaction_table_option_cell"><br><DIV ID="sessionDIV" style='visibility:hidden' align=left></DIV>
                    <font color=red>BIG-IP can not find session information in the request. This can happen because your browser restarted after an add-on was installed. If this occurred, click the link below to continue.  This can also happen because cookies are disabled in your browser. If so, enable cookies in your browser and start a new session.</font><br>                    <br>Thank you for using BIG-IP.<br><br>
                    <div id="newSessionDIV" style='visibility:hidden'>To open a new session, please  <A href='/'>click here.</A></div>                </td>
            </tr>
            <tr>
                <td class="interaction_table_footer"></td>
            </tr>
        </table>
    </td>
    <td id="main_table_image_cell"><img src="/public/images/my/tr.gif"></td></tr>
</table>
<div id="page_footer"><div>This product is licensed from F5 Networks. Â© 1999-2018 F5 Networks. All rights reserved. </div></div>
<DIV ID="logoutActivexContainer" class="inspectionHostDIVSmall"></DIV>

</body>
</html>
