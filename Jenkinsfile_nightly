#!groovy

properties([
  pipelineTriggers([cron('20 21 * * *')])
])

@Library("Infrastructure")

def type = "nodejs"

def product = "fpl"
def component = "fpl-service"

withNightlyPipeline(type, product, component) {

  //env.TEST_URL = 'https://ccd-case-management-web-aat.service.core-compute-aat.internal'
  env.URL = 'http://ccd-case-management-web-aat.service.core-compute-aat.internal';
  env.PROXY_SERVER = "proxyout.reform.hmcts.net:8080";

//  enableMutationTest()
//
//  after('mutationTest') {
//    withSonarQubeEnv("SonarQube") {
//      sh "./gradlew --info sonarqube"
//    }
//  }

  enableFullFunctionalTest()

}
